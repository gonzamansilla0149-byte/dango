<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Admin - Productos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- CSS -->
  <link rel="stylesheet" href="/assets/css/admin.css">
</head>
<body>

<div class="mobile-header">
  <button class="menu-toggle" id="menu-toggle">☰</button>
  <span class="mobile-title">DANGO Admin</span>
</div>

<div class="sidebar-overlay" id="sidebar-overlay"></div>

<div class="admin-layout">

  <!-- SIDEBAR CORREGIDO -->
  <aside class="sidebar">
    <h2>DANGO</h2>
    <nav>
      <button onclick="window.location.href='/admin/index.html'">Inicio</button>
      <button onclick="window.location.href='/admin/productos.html'">Productos</button>
      <button onclick="window.location.href='/admin/categorias.html'">Categorías</button>
      <button onclick="window.location.href='/admin/pedidos.html'">Pedidos</button>
      <button onclick="window.location.href='/admin/reporte.html'">Reporte</button>
      <button id="logoutBtn">Cerrar sesión</button>
    </nav>
  </aside>

  <!-- CONTENIDO PRINCIPAL -->
  <main class="content">

    <section id="productos-view">

      <div style="margin:15px 0;">
        <input 
          type="text" 
          id="product-search" 
          placeholder="Buscar por nombre, marca o categoría..." 
          style="width:100%;padding:8px;">
      </div>

      <div class="section-header" style="display:flex;justify-content:space-between;align-items:center;">
        <h1>Productos</h1>
        <button id="toggle-form">+ Nuevo producto</button>
      </div>

      <div id="products-table"></div>

      <div id="product-form-container" class="hidden" style="margin-top:20px;">
        <h2>Nuevo producto</h2>

        <form id="product-form" style="display:flex;flex-direction:column;gap:10px;max-width:500px;">

          <input name="name" placeholder="Nombre" required>

          <select name="brand_id" id="product-brand" required>
            <option value="">Seleccionar marca</option>
          </select>

          <select name="category_id" id="product-category" required>
            <option value="">Seleccionar categoría</option>
          </select>

          <select name="subcategory_id" id="product-subcategory" required>
            <option value="">Seleccionar subcategoría</option>
          </select>

          <input name="price" type="number" placeholder="Precio" required>
          <input name="stock" type="number" placeholder="Stock" required>

          <textarea name="description" placeholder="Descripción"></textarea>

          <label>Imágenes o Video (máx 5 archivos)</label>
          <input type="file" id="create-media-input" accept="image/*,video/*" multiple>

          <div id="create-media-preview" 
               style="margin-top:10px;display:flex;gap:10px;flex-wrap:wrap;">
          </div>

          <small>Máximo 5 archivos. Imágenes o 1 video.</small>

          <button type="submit">Guardar</button>

        </form>
      </div>

    </section>

  </main>

</div>

<!-- JS CORREGIDO -->
<script src="/assets/js/admin.js"></script>

</body>
</html>
